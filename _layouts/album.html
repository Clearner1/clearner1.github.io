---
layout: default
---

<div class="album-header">
  <h1>{{ page.title }} 专辑</h1>
  {% if page.description %}
    <p class="album-description">{{ page.description }}</p>
  {% endif %}
</div>

<div class="album-stats">
  {% assign album_posts = site.posts | where: 'album', page.album_name %}
  {% if page.album_source == 'pages' %}
    {% assign album_posts = site.pages | where: 'album', page.album_name %}
  {% endif %}
  {% assign album_posts = album_posts | sort: 'date' | reverse %}
  <p>共 {{ album_posts.size }} 篇文章</p>
</div>

<div class="album-posts">
  {% for post in album_posts %}
    <article class="post-preview">
      <h2><a href="{{ post.url }}">{{ post.title }}</a></h2>
      <div class="post-meta">
        <time datetime="{{ post.date | date: '%Y-%m-%d' }}">{{ post.date | date: "%Y年%m月%d日" }}</time>
        {% if post.categories %}
          <span class="categories">
            {% for category in post.categories %}
              <span class="category">{{ category }}</span>
            {% endfor %}
          </span>
        {% endif %}
      </div>
      {% assign excerpt_text = post.excerpt | default: post.content %}
      {% if excerpt_text %}
        <div class="post-excerpt">
          {{ excerpt_text | strip_html | truncatewords: 50 }}
        </div>
      {% endif %}
      <div class="post-tags">
        {% for tag in post.tags %}
          <span class="tag">#{{ tag }}</span>
        {% endfor %}
      </div>
    </article>
  {% endfor %}
</div>

<style>
.album-header {
  text-align: center;
  margin-bottom: 2rem;
  padding-bottom: 1rem;
  border-bottom: 2px solid #e1e1e1;
}

.album-description {
  font-size: 1.1em;
  color: #666;
  margin-top: 0.5rem;
}

.album-stats {
  text-align: center;
  margin-bottom: 2rem;
  color: #666;
  font-style: italic;
}

.post-preview {
  margin-bottom: 2rem;
  padding-bottom: 1.5rem;
  border-bottom: 1px solid #e1e1e1;
}

.post-preview h2 {
  margin-bottom: 0.5rem;
}

.post-preview h2 a {
  text-decoration: none;
  color: #333;
  transition: color 0.3s ease;
}

.post-preview h2 a:hover {
  color: #007acc;
}

.post-meta {
  margin-bottom: 1rem;
  font-size: 0.9em;
  color: #666;
}

.categories {
  margin-left: 1rem;
}

.category {
  background: #f0f0f0;
  padding: 0.2em 0.5em;
  border-radius: 3px;
  margin-right: 0.5em;
  font-size: 0.8em;
}

.post-excerpt {
  margin-bottom: 1rem;
  line-height: 1.6;
  color: #555;
}

.post-tags {
  font-size: 0.85em;
}

.tag {
  color: #007acc;
  margin-right: 0.8em;
  text-decoration: none;
}

.tag:hover {
  text-decoration: underline;
}
</style>
